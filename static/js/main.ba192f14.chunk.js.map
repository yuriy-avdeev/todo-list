{"version":3,"sources":["contexts/TodosContext.js","components/Form/Form.js","images/pencil.svg","components/TodoItem/TodoItem.js","components/TodoList/TodoList.js","components/Preloader/Preloader.js","utils/api.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["TodosContext","React","createContext","Form","memo","addTask","placeholder","initialTodosList","useContext","useState","inputValue","setInputValue","message","setMessage","className","onSubmit","e","preventDefault","filter","t","title","toLowerCase","length","target","value","htmlFor","id","type","required","onChange","task","trim","minLength","maxLength","pattern","style","color","TodoItem","handleTaskChange","handleRemoveTask","timeOfCreation","setTimeOfCreation","isEditFieldVisible","setIsEditFieldVisible","useEffect","date","DateTime","fromISO","setLocale","toFormat","Date","toISOString","completed","updatedTask","checked","disabled","toUpperCase","src","pencil","alt","onClick","newTask","TodoList","handleChangeTodosList","isSubmitting","click","setClick","tasksToRender","setTasksToRender","map","item","temporaryList","splice","findIndex","Preloader","Api","url","this","_url","a","fetch","method","res","ok","json","api","App","setInitialTodosList","setIsSubmitting","getTasks","then","tasks","catch","err","console","log","finally","Provider","concat","userId","updatedTodosList","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ba192f14.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const TodosContext = React.createContext()","import React from 'react'\r\nimport './Form.css'\r\nimport { TodosContext } from '../../contexts/TodosContext'\r\n\r\nconst Form = React.memo(({ addTask, placeholder }) => {\r\n\r\n    const initialTodosList = React.useContext(TodosContext)\r\n    const [inputValue, setInputValue] = React.useState('')\r\n    const [message, setMessage] = React.useState('')\r\n\r\n\r\n    const handleInput = (e) => {\r\n        const task = e.target.value.trim()\r\n        if (task.length > 4) {\r\n            setInputValue(task)\r\n            setMessage('')\r\n        } else {\r\n            setMessage('it requires 5 symbols, but no more than 50')\r\n        }\r\n    }\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        if (inputValue) {\r\n            // если t.title === inputValue - filter вернет массив из одинаковых task'ов\r\n            if (!initialTodosList.filter(t => t.title === inputValue.toLowerCase()).length) {\r\n                addTask(inputValue)\r\n                setInputValue('')\r\n                e.target[0].value = ''\r\n                setMessage('')\r\n            } else {\r\n                setMessage('The same task has already been added!')\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"form\">\r\n\r\n            <form className=\"form__container\" onSubmit={handleSubmit}>\r\n                <label className=\"form__label\" htmlFor=\"input_text\"></label>\r\n                <input\r\n                    className=\"form__input\"\r\n                    id=\"input_text\"\r\n                    type=\"text\"\r\n                    placeholder={placeholder}\r\n                    required\r\n                    onChange={handleInput}\r\n                    minLength=\"5\"\r\n                    maxLength=\"50\"\r\n                    pattern='^[0-9A-Za-zА-Яа-яЁё\\s\\-]{5,50}$'\r\n                    title=\"The field can only contain latin, cyrillic, numbers, space or hyphen\"\r\n                />\r\n\r\n                {\r\n                    message &&\r\n                    <span style={{ color: \"red\" }}>{message}</span>\r\n                }\r\n\r\n                <button className=\"form__btn btn waves-effect waves-light\" type=\"submit\">\r\n                    ok\r\n                </button>\r\n\r\n            </form>\r\n\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Form\r\n","export default __webpack_public_path__ + \"static/media/pencil.24e7703b.svg\";","import React from 'react'\r\nimport './TodoItem.css'\r\nimport { DateTime } from 'luxon'\r\nimport pencil from '../../images/pencil.svg'\r\nimport Form from '../Form/Form'\r\n\r\nconst TodoItem = React.memo(({ task, handleTaskChange, handleRemoveTask }) => {\r\n\r\n    const [timeOfCreation, setTimeOfCreation] = React.useState('')\r\n    const [isEditFieldVisible, setIsEditFieldVisible] = React.useState(false)\r\n\r\n\r\n    React.useEffect(() => {\r\n        task.date ?\r\n            setTimeOfCreation((DateTime.fromISO(task.date).setLocale('en').toFormat('dd LLL T')))\r\n            :\r\n            setTimeOfCreation((DateTime.fromISO(new Date().toISOString()).setLocale('en').toFormat('dd LLL T')))\r\n    }, [task])\r\n\r\n\r\n    const handleCheckboxChange = (e) => {\r\n        let { completed, ...updatedTask } = task // удалил \"старый\" completed\r\n        handleTaskChange({ ...updatedTask, completed: e.target.checked }) // task с новым значением completed - в обработчик\r\n    }\r\n\r\n\r\n    const handleButtonDeleteClick = () => {\r\n        handleRemoveTask(task)\r\n    }\r\n\r\n\r\n    const handleIconEditClick = () => {\r\n        setIsEditFieldVisible(!isEditFieldVisible)\r\n    }\r\n\r\n\r\n    const changeTask = (newTask) => {\r\n        let { title, ...updatedTask } = task // удалил \"старый\" title\r\n        handleTaskChange({ ...updatedTask, title: newTask }) // task с новым title - в обработчик\r\n        setIsEditFieldVisible(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <li className=\"todo-item\">\r\n\r\n            <label>\r\n                <input\r\n                    className=\"todo-item__checkbox\"\r\n                    type=\"checkbox\"\r\n                    onChange={handleCheckboxChange}\r\n                    checked={task.completed}\r\n                    disabled={isEditFieldVisible}\r\n                />\r\n                <span></span>\r\n            </label>\r\n\r\n            <p className={`todo-item__text ${task.completed && 'todo-item__text_crossed-out'} ${isEditFieldVisible && 'todo-item__text_color'}`}>\r\n                {task.title.toUpperCase()}\r\n                <br />\r\n                <span className=\"todo-item__time\">\r\n                    {timeOfCreation}\r\n                </span>\r\n            </p>\r\n\r\n            <img className=\"todo-item__pencil\" src={pencil} alt=\"edit task\" onClick={handleIconEditClick} />\r\n            <button className=\"waves-effect waves-light btn todo-item__btn\" onClick={handleButtonDeleteClick}>x</button>\r\n\r\n            {\r\n                isEditFieldVisible &&\r\n                <Form\r\n                    addTask={changeTask}\r\n                    placeholder={task.title.toUpperCase()}\r\n                />\r\n            }\r\n\r\n        </li >\r\n    )\r\n})\r\n\r\nexport default TodoItem\r\n","import React from 'react'\r\nimport './TodoList.css'\r\nimport TodoItem from '../TodoItem/TodoItem'\r\nimport { TodosContext } from '../../contexts/TodosContext'\r\n\r\nconst TodoList = React.memo(({ handleChangeTodosList, isSubmitting }) => {\r\n\r\n    const initialTodosList = React.useContext(TodosContext)\r\n    const [click, setClick] = React.useState(false)\r\n    const [tasksToRender, setTasksToRender] = React.useState([])\r\n\r\n\r\n    // отрисовка, в т.ч. при изме списка \r\n    React.useEffect(() => {\r\n        setTasksToRender(initialTodosList.map(item =>\r\n            <TodoItem\r\n                key={item.id}\r\n                task={item}\r\n                handleTaskChange={handleTaskChange}\r\n                handleRemoveTask={handleRemoveTask}\r\n            />\r\n        ))\r\n    }, [initialTodosList, click])\r\n\r\n\r\n    // обновление task'а при изме чекбокса и редактировании\r\n    const handleTaskChange = (updatedTask) => {\r\n        // ...patch-запрос на сервер с новыми данными\r\n        let temporaryList = initialTodosList\r\n        temporaryList.splice\r\n            (temporaryList.findIndex(t => t.id === updatedTask.id), 1, updatedTask)\r\n        handleChangeTodosList(temporaryList) // в Арр - для изменения списка задач\r\n        setClick(!click) // триггер для рендера\r\n    }\r\n\r\n\r\n    // удаление task'а\r\n    const handleRemoveTask = (task) => {\r\n        handleChangeTodosList(initialTodosList.filter(t => t.id !== task.id)) // в Арр - для изменения списка задач\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"todo-list\">\r\n            {\r\n                tasksToRender.length ?\r\n                    <ul>{tasksToRender}</ul>\r\n                    :\r\n                    !isSubmitting &&\r\n                    <p>You have no tasks added!</p>\r\n            }\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default TodoList\r\n","import React from 'react'\r\nimport './Preloader.css'\r\n\r\nconst Preloader = () => {\r\n\r\n  return (\r\n    <div className=\"lds-ellipsis\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","class Api {\r\n    constructor({ url }) {\r\n        this._url = url\r\n    }\r\n\r\n    async getTasks() {\r\n        const res = await fetch(`${this._url}`, {\r\n            method: 'GET',\r\n            'Content-Type': 'application/json',\r\n        })\r\n        return res.ok && res.json()\r\n    }\r\n}\r\n\r\nconst api = new Api // <=  создал экзмепляр\r\n    ({\r\n        url: 'https://jsonplaceholder.typicode.com/todos?_limit=3',\r\n    })\r\n\r\nexport default api","import React from 'react'\nimport './App.css'\n\nimport { TodosContext } from '../../contexts/TodosContext'\nimport Form from '../Form/Form'\nimport TodoList from '../TodoList/TodoList'\nimport Preloader from '../Preloader/Preloader'\nimport api from '../../utils/api'\n\nconst App = () => {\n\n  const [initialTodosList, setInitialTodosList] = React.useState([])\n  const [isSubmitting, setIsSubmitting] = React.useState(false)\n\n\n  // получение от сервера списка задач\n  React.useEffect(() => {\n    setIsSubmitting(true)\n    api.getTasks()\n      .then(tasks => {\n        tasks.length && setInitialTodosList(tasks)\n      })\n      .catch(err => console.log(err))\n      .finally(() => setIsSubmitting(false))\n  }, [])\n\n\n  // добавление task'a в список из формы\n  const addTask = (task) => {\n    // ...post-запрос на сервер\n    setInitialTodosList(initialTodosList.concat(\n      {\n        completed: false,\n        id: initialTodosList.length + 1,\n        title: task,\n        userId: 1,\n        date: new Date().toISOString(),\n      }\n    ))\n  }\n\n\n  // обновление списка после клика чекбокса и удаления\n  const handleChangeTodosList = (updatedTodosList) => {\n    setInitialTodosList(updatedTodosList)\n  }\n\n\n  return (\n    <TodosContext.Provider value={initialTodosList}>\n      <div className=\"app\">\n\n        <h1>My Todo App</h1>\n\n        <Form\n          addTask={addTask}\n          placeholder='...todo'\n        />\n\n        {isSubmitting && <Preloader />}\n\n        <TodoList\n          handleChangeTodosList={handleChangeTodosList}\n          isSubmitting={isSubmitting}\n        />\n\n      </div>\n    </ TodosContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n// import \"materialize-css/dist/js/materialize.min\"\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}