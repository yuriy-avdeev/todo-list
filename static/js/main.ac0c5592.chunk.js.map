{"version":3,"sources":["contexts/TodosContext.js","components/Form/Form.js","images/pencil.svg","components/TodoItem/TodoItem.js","components/TodoList/TodoList.js","components/Preloader/Preloader.js","utils/api.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["TodosContext","React","createContext","Form","memo","addTask","placeholder","initialTodosList","useContext","useState","inputValue","setInputValue","showInput","setShowInput","message","setMessage","useEffect","length","className","onSubmit","e","preventDefault","filter","t","title","toLowerCase","htmlFor","id","type","value","required","onChange","target","trim","minLength","maxLength","pattern","style","color","disabled","TodoItem","index","task","handleTaskChange","handleRemoveTask","timeOfCreation","setTimeOfCreation","isEditFieldVisible","setIsEditFieldVisible","date","DateTime","fromISO","setLocale","toFormat","Date","toISOString","completed","updatedTask","checked","toUpperCase","src","pencil","alt","onClick","newTask","TodoList","handleChangeTodosList","isSubmitting","todosList","click","setClick","tasksToRender","setTasksToRender","selectedView","setSelectedView","list","map","item","temporaryList","splice","findIndex","defaultValue","display","width","height","Preloader","Api","url","this","_url","a","fetch","method","res","ok","json","api","App","setInitialTodosList","setIsSubmitting","getTasks","then","tasks","catch","err","console","log","finally","Provider","concat","userId","updatedTodosList","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ac0c5592.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport const TodosContext = React.createContext()","import React from 'react'\r\nimport './Form.css'\r\nimport { TodosContext } from '../../contexts/TodosContext'\r\n\r\nconst Form = React.memo(({ addTask, placeholder }) => {\r\n\r\n    const initialTodosList = React.useContext(TodosContext)\r\n    const [inputValue, setInputValue] = React.useState('')\r\n    const [showInput, setShowInput] = React.useState('')\r\n    const [message, setMessage] = React.useState('')\r\n\r\n\r\n    React.useEffect(() => {\r\n        if (inputValue) {\r\n            if (inputValue.length > 4) {\r\n                setMessage('')\r\n            } else {\r\n                setMessage('it requires 5 symbols, but no more than 50')\r\n            }\r\n        }\r\n    }, [inputValue])\r\n\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        if (!message) {\r\n            // если t.title === inputValue - filter вернет массив из одинаковых task'ов\r\n            if (!initialTodosList.filter(t => t.title.toLowerCase() === inputValue.toLowerCase()).length) {\r\n                addTask(inputValue)\r\n                setInputValue('')\r\n                setShowInput('')\r\n            } else {\r\n                setMessage('The same task has already been added!')\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const handleInput = (e) => {\r\n        setShowInput(e.target.value)\r\n        setInputValue(e.target.value.trim())\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"form\">\r\n\r\n            <form className=\"form__container\" onSubmit={handleSubmit}>\r\n                <label className=\"form__label\" htmlFor=\"input_text\"></label>\r\n                <input\r\n                    className=\"form__input\"\r\n                    id=\"input_text\"\r\n                    type=\"text\"\r\n                    placeholder={placeholder}\r\n                    value={showInput}\r\n                    required\r\n                    onChange={handleInput}\r\n                    minLength=\"5\"\r\n                    maxLength=\"50\"\r\n                    pattern='^[0-9A-Za-zА-Яа-яЁё\\s\\-]{5,50}$'\r\n                    title=\"The field can only contain latin, cyrillic, numbers, space or hyphen\"\r\n                />\r\n\r\n                {\r\n                    message &&\r\n                    <span style={{ color: \"red\" }}>{message}</span>\r\n                }\r\n\r\n                {\r\n                    inputValue || !message ?\r\n                    <button className=\"form__btn btn waves-effect waves-light\" type=\"submit\">add</button>\r\n                    :\r\n                    <button disabled className=\"form__btn btn waves-effect waves-light\" type=\"submit\">add</button>\r\n                }\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Form\r\n","export default __webpack_public_path__ + \"static/media/pencil.24e7703b.svg\";","import React from 'react'\r\nimport './TodoItem.css'\r\nimport { DateTime } from 'luxon'\r\nimport pencil from '../../images/pencil.svg'\r\nimport Form from '../Form/Form'\r\n\r\nconst TodoItem = React.memo(({ index, task, handleTaskChange, handleRemoveTask }) => {\r\n\r\n    const [timeOfCreation, setTimeOfCreation] = React.useState('')\r\n    const [isEditFieldVisible, setIsEditFieldVisible] = React.useState(false)\r\n\r\n\r\n    React.useEffect(() => {\r\n        task.date ?\r\n            setTimeOfCreation((DateTime.fromISO(task.date).setLocale('en').toFormat('dd LLL T')))\r\n            :\r\n            setTimeOfCreation((DateTime.fromISO(new Date().toISOString()).setLocale('en').toFormat('dd LLL T')))\r\n    }, [task])\r\n\r\n\r\n    const handleCheckboxChange = (e) => {\r\n        let { completed, ...updatedTask } = task // удалил \"старый\" completed\r\n        handleTaskChange({ ...updatedTask, completed: e.target.checked }) // task с новым значением completed - в обработчик\r\n    }\r\n\r\n\r\n    const handleButtonDeleteClick = () => {\r\n        handleRemoveTask(task)\r\n    }\r\n\r\n\r\n    const handleIconEditClick = () => {\r\n        setIsEditFieldVisible(!isEditFieldVisible)\r\n    }\r\n\r\n\r\n    const changeTask = (newTask) => {\r\n        let { title, ...updatedTask } = task // удалил \"старый\" title\r\n        handleTaskChange({ ...updatedTask, title: newTask }) // task с новым title - в обработчик\r\n        setIsEditFieldVisible(false)\r\n    }\r\n\r\n\r\n    return (\r\n        <li className=\"todo-item\">\r\n            <label>\r\n                <input\r\n                    className=\"todo-item__checkbox\"\r\n                    type=\"checkbox\"\r\n                    onChange={handleCheckboxChange}\r\n                    checked={task.completed}\r\n                    disabled={isEditFieldVisible}\r\n                />\r\n                <span></span>\r\n            </label>\r\n\r\n            <p className={`todo-item__text ${task.completed && 'todo-item__text_crossed-out'} ${isEditFieldVisible && 'todo-item__text_color'}`}>\r\n                {index + '. ' + task.title.toUpperCase()}\r\n                <br />\r\n                <span className=\"todo-item__time\">\r\n                    {timeOfCreation}\r\n                </span>\r\n            </p>\r\n\r\n            <img className=\"todo-item__pencil\" src={pencil} alt=\"edit task\" onClick={handleIconEditClick} />\r\n            <button className=\"waves-effect waves-light btn todo-item__btn\" onClick={handleButtonDeleteClick}>x</button>\r\n\r\n            {\r\n                isEditFieldVisible &&\r\n                <Form\r\n                    addTask={changeTask}\r\n                    placeholder={task.title.toUpperCase()}\r\n                />\r\n            }\r\n        </li >\r\n    )\r\n})\r\n\r\nexport default TodoItem\r\n","import React from 'react'\r\nimport './TodoList.css'\r\nimport TodoItem from '../TodoItem/TodoItem'\r\nimport { TodosContext } from '../../contexts/TodosContext'\r\n\r\nconst TodoList = React.memo(({ handleChangeTodosList, isSubmitting }) => {\r\n\r\n    const todosList = React.useContext(TodosContext)\r\n    const [click, setClick] = React.useState(false)\r\n    const [tasksToRender, setTasksToRender] = React.useState([])\r\n    const [selectedView, setSelectedView] = React.useState('all')\r\n\r\n    // селект начального списка\r\n    React.useEffect(() => {\r\n        let list = []\r\n\r\n        selectedView === \"completed\" ?\r\n            list = todosList.filter(t => t.completed)\r\n            :\r\n            selectedView === \"not-completed\" ?\r\n                list = todosList.filter(t => !t.completed)\r\n                :\r\n                list = todosList\r\n\r\n        setTasksToRender(list.map((item, index) =>\r\n            <TodoItem\r\n                key={item.id}\r\n                index={index + 1}\r\n                task={item}\r\n                handleTaskChange={handleTaskChange}\r\n                handleRemoveTask={handleRemoveTask}\r\n            />\r\n        ))\r\n    }, [selectedView, todosList, click])\r\n\r\n\r\n    // обновление task'а при изме чекбокса и редактировании\r\n    const handleTaskChange = (updatedTask) => {\r\n        // ...patch-запрос на сервер с новыми данными\r\n        let temporaryList = todosList\r\n        temporaryList.splice\r\n            (temporaryList.findIndex(t => t.id === updatedTask.id), 1, updatedTask)\r\n        handleChangeTodosList(temporaryList) // в Арр - для изменения списка задач\r\n        setClick(!click) // триггер для рендера\r\n    }\r\n\r\n\r\n    // удаление task'а\r\n    const handleRemoveTask = (task) => {\r\n        handleChangeTodosList(todosList.filter(t => t.id !== task.id)) // в Арр - для изменения списка задач\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"todo-list\">\r\n\r\n            <select\r\n                className=\"todo-list__select\"\r\n                defaultValue=\"all\"\r\n                onChange={(e) => setSelectedView(e.target.value)}\r\n                style={{ display: \"block\", width: \"50%\", height: \"32px\" }}\r\n            >\r\n                <option value=\"all\">All</option>\r\n                <option value=\"completed\">Completed</option>\r\n                <option value=\"not-completed\">Not completed</option>\r\n            </select>\r\n\r\n            {\r\n                tasksToRender.length ?\r\n                    <ul>{tasksToRender}</ul>\r\n                    :\r\n                    !isSubmitting &&\r\n                    <p>You have no tasks added!</p>\r\n            }\r\n\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default TodoList\r\n","import React from 'react'\r\nimport './Preloader.css'\r\n\r\nconst Preloader = () => {\r\n\r\n  return (\r\n    <div className=\"lds-ellipsis\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Preloader\r\n","class Api {\r\n    constructor({ url }) {\r\n        this._url = url\r\n    }\r\n\r\n    async getTasks() {\r\n        const res = await fetch(`${this._url}`, {\r\n            method: 'GET',\r\n            'Content-Type': 'application/json',\r\n        })\r\n        return res.ok && res.json()\r\n    }\r\n}\r\n\r\nconst api = new Api // <=  создал экзмепляр\r\n    ({\r\n        url: 'https://jsonplaceholder.typicode.com/todos?_limit=3',\r\n    })\r\n\r\nexport default api","import React from 'react'\nimport './App.css'\n\nimport { TodosContext } from '../../contexts/TodosContext'\nimport Form from '../Form/Form'\nimport TodoList from '../TodoList/TodoList'\nimport Preloader from '../Preloader/Preloader'\nimport api from '../../utils/api'\n\nconst App = () => {\n\n  const [initialTodosList, setInitialTodosList] = React.useState([])\n  const [isSubmitting, setIsSubmitting] = React.useState(false)\n\n\n  // получение от сервера списка задач\n  React.useEffect(() => {\n    setIsSubmitting(true)\n    api.getTasks()\n      .then(tasks => {\n        tasks.length && setInitialTodosList(tasks)\n      })\n      .catch(err => console.log(err))\n      .finally(() => setIsSubmitting(false))\n  }, [])\n\n\n  // добавление task'a в список из формы\n  const addTask = (task) => {\n    // ...post-запрос на сервер\n    setInitialTodosList(initialTodosList.concat(\n      {\n        completed: false,\n        id: new Date(),\n        title: task,\n        userId: 1,\n        date: new Date().toISOString(),\n      }\n    ))\n  }\n\n\n  // обновление списка после клика чекбокса и удаления\n  const handleChangeTodosList = (updatedTodosList) => {\n    setInitialTodosList(updatedTodosList)\n  }\n\n\n  return (\n    <TodosContext.Provider value={initialTodosList}>\n      <div className=\"app\">\n\n        <h1>My Todo App</h1>\n\n        <Form\n          addTask={addTask}\n          placeholder='...todo'\n        />\n\n        {isSubmitting && <Preloader />}\n\n        <TodoList\n          handleChangeTodosList={handleChangeTodosList}\n          isSubmitting={isSubmitting}\n        />\n\n      </div>\n    </ TodosContext.Provider>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App/App'\nimport reportWebVitals from './reportWebVitals'\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}